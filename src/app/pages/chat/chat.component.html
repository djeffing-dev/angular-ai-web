<div class="chat-messages" #chatMessages>
    <div class="message" *ngFor="let message of messages">
      <div class="message-user">
        <div class="message-avatar" 
             [ngClass]="message.sender === 'user' ? 'user-avatar-msg' : 'ai-avatar-msg'">
          <span *ngIf="message.sender === 'user'">Y</span>
          <i *ngIf="message.sender === 'ai'" class="fas fa-brain"></i>
        </div>

        <div class="message-content" 
             [ngClass]="message.sender === 'ai' ? 'ai-response' : ''">
          <div *ngIf="message.sender === 'ai'" class="fw-bold mb-2">
            <i class="fas fa-robot me-2"></i>
            AiWave
            <span class="badge bg-primary ms-2">AI</span>
          </div>
          <div [innerHTML]="message.text"></div>
        </div>
      
      </div>
    </div>
</div>

<div class="chat-input-container">
    <div class="chat-input-wrapper">
      <textarea 
        class="chat-input" 
        placeholder="Send a message..." 
        rows="1"
        [(ngModel)]="currentMessage"
        (keypress)="onKeyPress($event)"
        (input)="onInputChange($event)"
        #chatInput></textarea>
      <button class="send-btn" (click)="sendMessage()">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
    <div class="text-center mt-2">
      <small class="text-muted">AiWave can make mistakes. Consider checking important information.</small>
    </div>
  </div>